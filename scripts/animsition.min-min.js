/*!
 * animsition v4.0.2
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function($){"use strict";var t="animsition",n={init:function(i){i=$.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(t){window.location.href=t}},i),n.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var a=n.supportCheck.call(this,i),o;return a||!(i.browser.length>0)||a&&this.length?(n.optionCheck.call(this,i)&&$("."+i.overlayClass).length<=0&&n.addOverlay.call(this,i),i.loading&&$("."+i.loadingClass).length<=0&&n.addLoading.call(this,i),this.each((function(){var a=this,o=$(this),e=$(window),s=$(document),l;o.data(t)||(i=$.extend({},i),o.data(t,{options:i}),i.timeout&&n.addTimer.call(a),i.onLoadEvent&&e.on("load.animsition",(function(){n.settings.timer&&clearTimeout(n.settings.timer),n.in.call(a)})),e.on("pageshow.animsition",(function(t){t.originalEvent.persisted&&n.in.call(a)})),e.on("unload.animsition",(function(){})),s.on("click.animsition",i.linkElement,(function(t){t.preventDefault();var i=$(this),o=i.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(o,"_blank"):n.out.call(a,i,o)})))}))):("console"in window||(window.console={},window.console.log=function(t){return t}),this.length||console.log("Animsition: Element does not exist on page."),a||console.log("Animsition: Does not support this browser."),n.destroy.call(this))},addOverlay:function(t){$(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){$(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var n,i=$(this).data(t).options,a;$(i.loadingParentElement).children("."+i.loadingClass).fadeOut().remove()},addTimer:function(){var i=this,a,o=$(this).data(t).options;n.settings.timer=setTimeout((function(){n.in.call(i),$(window).off("load.animsition")}),o.timeoutCountdown)},supportCheck:function(t){var n=$(this),i=t.browser,a=i.length,o=!1;0===a&&(o=!0);for(var e=0;e<a;e++)if("string"==typeof n.css(i[e])){o=!0;break}return o},optionCheck:function(t){var i=$(this),a;return a=!(!t.overlay&&!i.data(n.settings.data.overlay))},animationCheck:function(n,i,a){var o,e=$(this).data(t).options,s=typeof n,l=!i&&"number"===s,r=i&&"string"===s&&n.length>0;return l||r?n=n:i&&a?n=e.inClass:!i&&a?n=e.inDuration:i&&!a?n=e.outClass:i||a||(n=e.outDuration),n},in:function(){var i=this,a=$(this),o=a.data(t).options,e=a.data(n.settings.data.inDuration),s=a.data(n.settings.data.inClass),l=n.animationCheck.call(i,e,!1,!0),r=n.animationCheck.call(i,s,!0,!0),d=n.optionCheck.call(i,o),u=a.data(t).outClass;o.loading&&n.removeLoading.call(i),u&&a.removeClass(u),d?n.inOverlay.call(i,r,l):n.inDefault.call(i,r,l)},inDefault:function(t,i){var a=$(this);a.css({"animation-duration":i+"ms"}).addClass(t).trigger(n.settings.events.inStart).animateCallback((function(){a.removeClass(t).css({opacity:1}).trigger(n.settings.events.inEnd)}))},inOverlay:function(i,a){var o=$(this),e=o.data(t).options;o.css({opacity:1}).trigger(n.settings.events.inStart),$(e.overlayParentElement).children("."+e.overlayClass).css({"animation-duration":a+"ms"}).addClass(i).animateCallback((function(){o.trigger(n.settings.events.inEnd)}))},out:function(i,a){var o=this,e=$(this),s=e.data(t).options,l=i.data(n.settings.data.outClass),r=e.data(n.settings.data.outClass),d=i.data(n.settings.data.outDuration),u=e.data(n.settings.data.outDuration),c=l||r,m=d||u,g=n.animationCheck.call(o,c,!0,!1),f=n.animationCheck.call(o,m,!1,!1),h=n.optionCheck.call(o,s);e.data(t).outClass=g,h?n.outOverlay.call(o,g,f,a):n.outDefault.call(o,g,f,a)},outDefault:function(i,a,o){var e=$(this),s=e.data(t).options;e.css({"animation-duration":a+1+"ms"}).addClass(i).trigger(n.settings.events.outStart).animateCallback((function(){e.trigger(n.settings.events.outEnd),s.transition(o)}))},outOverlay:function(i,a,o){var e=this,s=$(this),l=s.data(t).options,r=s.data(n.settings.data.inClass),d=n.animationCheck.call(e,r,!0,!0);$(l.overlayParentElement).children("."+l.overlayClass).css({"animation-duration":a+1+"ms"}).removeClass(d).addClass(i).trigger(n.settings.events.outStart).animateCallback((function(){s.trigger(n.settings.events.outEnd),l.transition(o)}))},destroy:function(){return this.each((function(){var n=$(this);$(window).off(".animsition"),n.css({opacity:1}).removeData(t)}))}};$.fn.animateCallback=function(t){var n="animationend webkitAnimationEnd";return this.each((function(){var i=$(this);i.on(n,(function(){return i.off(n),t.call(this)}))}))},$.fn.animsition=function(i){return n[i]?n[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void $.error("Method "+i+" does not exist on jQuery."+t):n.init.apply(this,arguments)}}));